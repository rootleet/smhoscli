<?php require 'config/inc/core.php' ?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SMHOS - CLI</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/general.css">
</head>


<body>
    <?php if (!is_logged_in('cli_login')): ?>
        <div class="w-100 h-100 bg-dark d-flex flex-wrap align-content-center justify-content-center overflow-hidden">

            <form method="post" action="config/process/user_mgmt.php" class="w-25">

                <p class="text-light text-center"><strong>Welcome!! Please Login</strong></p>



                <div class="input-group mb-2">
                    <input value="<?php if (isset($_SESSION['clerk_code'])){echo $_SESSION['clerk_code'];} ?>" class="form-control font-weight-bold" type="text" autocomplete="off" placeholder="Code" name="clerk_code" required>
                </div>

                <div class="input-group mb-2">
                    <input class="form-control font-weight-bold" type="password" autocomplete="off"  placeholder="Key" name="clerk_key" required>
                </div>

                <!--KEYS-->
                <div class="w-100">
                    <button type="submit" name="login" class="btn w-100 btn-success key_number_hw font-weight-bolder">LOGIN</button>
                </div>

                <div class="w-100 err_box">
                    <span class="text-danger"><?php show_error() ?></span>
                </div>



            </form>

        </div>
    <?php endif; ?>

    <?php if (is_logged_in('cli_login')): ?>

        <?php if ($view === 'welcome'): ?>
            <div id="welcome" class="h-100 w-100">

            <header class="d-flex flex-wrap pl-5 pr-5 align-content-center">

                <div class="w-100 h-100 d-flex flex-wrap align-content-center justify-content-center">
                    <kbd><?php echo $my_code; ?></kbd>
                </div>




            </header>

            <article class="overflow-hidden d-flex flex-wrap align-content-center justify-content-center">
                <div class="container d-flex flex-wrap align-content-center justify-content-center">

                    <button onclick="location.href='config/process/switch.php?tri=bill'" class="btn f_size_xx_large m-2 font-weight-bolder btn-black w-30 main_cards">
                        Billing
                    </button>

                    <button class="btn f_size_xx_large m-2 font-weight-bolder btn-report w-30 main_cards">
                        Reports
                    </button>

                    <button class="btn f_size_xx_large m-2 font-weight-bolder btn-setup w-30 main_cards">
                        Company Setup
                    </button>

                    <button class="btn f_size_xx_large m-2 font-weight-bolder btn-settings w-30 main_cards">
                        Master
                    </button>

                    <button class="btn f_size_xx_large m-2 font-weight-bolder btn-lg w-30 main_cards">
                        Z-Report
                    </button>

                    <button onclick="location.href='config/process/switch.php?tri=logout'" class="btn f_size_xx_large m-2 font-weight-bolder btn-outline-danger w-30 main_cards">
                        Exit
                    </button>

                </div>
            </article>

        </div>
        <?php endif; ?>

        <?php if ($view === 'bill'): ?>
            <div class="container-fluid p-1 h-100 overflow-hidden bg-black">

                <div class="row no-gutters h-100">


                    <!--MIDDLE PANE-->
                    <div class="col-sm-8 p-2">

                        <div class="w-100 h-100 bg-dark rounded">

                            <?php if($main === 'none'): ?>

                                <div class="w-100 h-100 d-flex flex-wrap align-content-center justify-content-center">
                                    <p class="hover_large">No Function</p>
                                </div>

                            <?php endif; ?>

                            <?php if($main === 'bill'): ?>

                                <div class="w-100 p-2 h-100">
                                    <!--CATEGORIES-->
                                    <div class="w-100 d-flex flex-wrap justify-content-between h-40">

                                        <?php while ($cat = $cat_stmt->fetch(PDO::FETCH_ASSOC)): ?>
                                            <button data-toggle="pill" class="btn cat_box_shadow btn-traditional inside-button m-1 font-weight-bolder rounded-0"><?php echo $cat['name'] ?></button>
                                        <?php endwhile; ?>

                                    </div>

                                    <!--CATEGORY CONTAINERS-->
                                    <div class="w-100 h-60 facilities">

                                        <div class="w-100 d-flex flex-wrap align-content-start justify-content-start h-100">

                                            <?php if ($facilities_count < 1): ?>
                                                <div class="w-100 h-100 d-flex flex-wrap align-content-center justify-content-center">
                                                    <p class="hover_large">No Facility</p>
                                                </div>
                                            <?php endif; ?>

                                            <?php if ($facilities_count > 0): ?>
                                                <div class="w-100 h-100 d-flex flex-wrap">
                                                    <!--FACILITIES-->
                                                    <div class="w-65 h-100 d-flex flex-wrap">
                                                        <?php while ($facility = $facilities_stmt->fetch(PDO::FETCH_ASSOC)): ?>
                                                        <?php
                                                            $id = $facility['id'];
                                                            $tax_grp = $facility['tax_group'];
                                                            $tax_res = get_row("tax_master","`id` = $tax_grp", $route);
                                                            $tax_r = $tax_res['rate'];
                                                            $rate = $tax_r / 100;
                                                        ?>
                                                        <div class="inside-facility p-1">
                                                            <div data-toggle="modal" data-target="#addToBill<?php echo $facility['id'] ?>" oncontextmenu="show('#<?php echo md5($id) ?>details')"  class="btn btn-info <?php if($act_fac === $id){echo 'active';} ?> d-flex flex-wrap align-content-center justify-content-center rounded-0 font-weight-bold w-100 h-100"><?php echo $facility['name'] ?></div>
                                                        </div>

                                                        <!--add to bill modal-->
                                                        <div class="modal text-dark fade" id="addToBill<?php echo $facility['id'] ?>">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <strong class="modal-title">Adding <?php echo $facility['name'] ?></strong>
                                                                        <button class="close" data-dismiss="modal">&times;</button>
                                                                    </div>

                                                                    <form action="config/process/bill_processing.php" method="post" class="modal-body p-2">
                                                                        <div class="w-75 mx-auto">
                                                                            <div class="input-group mb-2">
                                                                                <div class="input-group-prepend w-40">
                                                                                    <span class="input-group-text w-100">Checkin Date</span>
                                                                                </div>
                                                                                <input class="form-control" type="date" name="checkin_date" autocomplete="off">
                                                                            </div>
                                                                            <div class="input-group mb-2">
                                                                                <div class="input-group-prepend w-40">
                                                                                    <span class="input-group-text w-100">Checkout Date</span>
                                                                                </div>
                                                                                <input class="form-control" type="date" name="checkout_date" autocomplete="off">
                                                                            </div>
                                                                            <hr>
                                                                            <!--QUANTITY-->
                                                                            <div class="input-group mb-2">
                                                                                <div class="input-group-prepend w-40">
                                                                                    <span class="input-group-text w-100">Quantity</span>
                                                                                </div>
                                                                                <input class="form-control" type="number" name="qty" autocomplete="off">
                                                                            </div>
                                                                            <hr>
                                                                            <!--HIDDEN-->
                                                                            <input type="hidden" name="facility" value="<?php echo $facility['id'] ?>">

                                                                            <div class="w-100 text-center">
                                                                                <button name="add_to_bill" class="btn btn-outline-success rounded-0">ADD</button>
                                                                            </div>
                                                                        </div>
                                                                    </form>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!--VIEW FACILITY DETAILS MODAL-->
                                                        <div class="modal fade text-dark" id="<?php echo md5($id) ?>details">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <strong class="modal-title"><?php echo $facility['name'] ?></strong>
                                                                        <button class="close" data-dismiss="modal">&times;</button>
                                                                    </div>

                                                                    <div class="modal-body p-2">
                                                                        <div class="table-responsive-sm table-responsive-sm">
                                                                            <table class="table table-sm table-striped table-hover">
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td class="f_size_small"><strong>Taxable Amount</strong></td>
                                                                                    <td class="f_size_small">GHS <?php echo $facility['cost'] ?></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="f_size_small"><strong><?php echo $tax_res['description'] ?></strong></td>
                                                                                    <td class="f_size_small"><?php echo $tax_r ?>%</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="f_size_small"><strong>Cost</strong></td>
                                                                                    <td class="f_size_small">GHS <?php echo price_value($rate * $facility['cost'] + $facility['cost']) ?></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="f_size_small"><strong>Available</strong></td>
                                                                                    <td class="f_size_small">Yes <kbd>20</kbd></td>
                                                                                </tr>
                                                                                <?php
                                                                                        //get utility for facility
                                                                                        $util_sql = "select COLUMN_NAME from information_schema.columns where table_name='facilities' and column_name like 'util%'";
                                                                                        $util_exe = $route->prepare($util_sql);
                                                                                $util_exe->execute();
                                                                                while($util = $util_exe->fetch(PDO::FETCH_ASSOC)):
                                                                                $u_name = $util['COLUMN_NAME'];
                                                                                $utility = explode('_',$util['COLUMN_NAME'])[1];
                                                                                ?>

                                                                                <tr>
                                                                                    <td class="f_size_small"><strong><?php echo $utility ?></strong></td>
                                                                                    <td class="f_size_small">
                                                                                        <?php
                                                                                                    //get row
                                                                                                    $get_util_sql = query("SELECT `$u_name` FROM `facilities` WHERE `id` = $id", $route );
                                                                                                    if ($get_util_sql[$u_name] === 0):
                                                                                                 ?>

                                                                                        <img class="img-fluid" src="assets/icons/general/wrong.png">

                                                                                        <?php else:?>
                                                                                        <img class="img-fluid" src="assets/icons/general/approved.png">
                                                                                        <?php endif; ?>
                                                                                    </td>
                                                                                </tr>

                                                                                <?php endwhile; ?>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <?php endwhile; ?>
                                                    </div>

                                                    <!--AVAILABLE-->
                                                    <div class="w-35 h-100 p-2 d-flex flex-wrap">
                                                        <div class="w-100 h-100 cust_shadow card">
                                                            <div class="card-header text-dark">
                                                                <small class="card-title">Availability</small>
                                                            </div>
                                                            <div class="card-body">
                                                                <div class="w-100 h-100 d-flex flex-wrap overflow-auto align-content-start">
                                                                    <button class="btn btn-info room_num rounded-0 m-1">101</button>
                                                                    <button class="btn btn-info room_num rounded-0 m-1">101</button>
                                                                    <button class="btn btn-info room_num rounded-0 m-1">101</button>
                                                                    <button class="btn btn-info room_num rounded-0 m-1">101</button>
                                                                    <button class="btn btn-info room_num rounded-0 m-1">101</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            <?php endif; ?>

                                        </div>

                                    </div>

                                </div>

                            <?php endif; ?>

                        </div>

                    </div>

                    <!--RIGHT PAGE-->
                    <div class="col-sm-4 p-2">

                        <?php if($main === 'bill'): ?>

                        <div class="w-100 h-100 overflow-hidden bg-dark rounded">

                            <!--TOP-->
                            <div class="w-100 overflow-hidden h-60">

                                <header class="bg-dark-x pl-1 pr-1 d-flex flex-wrap justify-content-between align-content-center">
                                    <strong>Bill <?php echo $current_bill ?></strong>
                                    <i class="f_size_small text-center text-bx"><?php echo $my_code ?></i>
                                    <p class="m-0 text-bx">01/01/0011</p>
                                </header>

                                <article class="d-flex p-1 flex-wrap">

                                    <!--BILLING DETAILS-->
                                    <div class="w-70 h-100 bg-bill-default">

                                        <header class="bg-bill-header p-1 container">


                                            <div class="row h-100 no-gutters w-100">
                                                <div class="col-sm-7 h-100 d-flex flex-wrap align-content-center pl-1">
                                                    <p class="m-0 font-weight-bold">Item</p>
                                                </div>
                                                <div class="col-sm-2 h-100 d-flex flex-wrap align-content-center">
                                                    <p class="m-0 font-weight-bold">QTY</p>
                                                </div>
                                                <div class="col-sm-3 h-100 d-flex flex-wrap align-content-center pl-1">
                                                    <p class="m-0 font-weight-bold">Cost</p>
                                                </div>
                                            </div>

                                        </header>

                                        <article>
                                            <!--BILL ITEMS-->
                                            <div class="p-1 h-75 container">

                                                <?php while ($bill = $bill_stmt->fetch(PDO::FETCH_ASSOC)): ?>

                                                    <div ondblclick="location.href='config/process/bill_processing.php?del_bill_item&item=<?php echo $bill['id'] ?>'" class="row hover_large no-gutters w-100">
                                                        <div class="col-sm-7 h-100 d-flex flex-wrap align-content-center pl-1">
                                                            <p class="m-0 text_eclips f_size_small">
                                                                <?php echo $bill['facility'] ?>
                                                            </p>
                                                        </div>
                                                        <div class="col-sm-2 h-100 d-flex flex-wrap align-content-center">
                                                            <p class="m-0 f_size_small"><?php echo $bill['qty'] ?> <sup class="badge badge-info"><?php echo $bill['duration'] ?></sup></p>
                                                        </div>
                                                        <div class="col-sm-3 h-100 d-flex flex-wrap align-content-center pl-1">
                                                            <p class="m-0 f_size_small">
                                                               <?php echo $bill['taxable_amount'] ?>
                                                            </p>
                                                        </div>
                                                    </div>

                                                <?php endwhile; ?>

                                            </div>

                                            <!--TAX SHOW-->
                                            <div class="h-10 w-100 container <?php if($tax_exist === 'yes'){echo 'bg-mag';} ?> p-2 font-weight-bold overflow-hidden">
                                                <?php if ($tax_exist === 'yes'): ?>
                                                    <?php while ($tax = $tax_stmt_x->fetch(PDO::FETCH_ASSOC)): ?>
                                                        <div class="row no-gutters">
                                                            <div class="col-sm-4 text-left">
                                                                <p class="m-0 text_eclips f_size_x_small"><?php echo $tax['t_desc'] ?></p>
                                                            </div>
                                                            <div class="col-sm-4 text-center">
                                                                <p class="m-0 text_eclips f_size_x_small"><?php echo $tax['rate'] ?>%</p>
                                                            </div>
                                                            <div class="col-sm-4 text-right">
                                                                <p class="m-0 text_eclips f_size_x_small">GHS <?php echo $tax['amount_value'] ?></p>
                                                            </div>
                                                        </div>
                                                    <?php endwhile; ?>
                                                <?php endif; ?>

                                            </div>

                                            <!--INPUT FORM-->
                                            <div class="overflow-hidden w-100 h-15">

                                                <?php if ($bill_exist === 'yes'): ?>
                                                    <?php if ($p_method === 0): ?>
                                                        <div class="w-100 text-warning h-100 bg-info d-flex flex-wrap align-content-center p-2 font-weight-bold f_size_large">
                                                            Select Payment Method
                                                        </div>
                                                    <?php endif; ?>

                                                    <form method="post" action="config/process/bill_processing.php?book" class="h-100">

                                                        <?php if ($p_method === '1'): ?>
                                                            <div class="input-group h-100">
                                                                <input required onkeyup="cash_calculation(this.value, '<?php echo $bill_total ?>')" type="text" placeholder="Amount Paid" name="amount_paid" class="h-100 form-control font-weight-bolder f_size_large rounded-0">
                                                                <input type="hidden" name="bill_total" value="<?php echo $bill_total ?>">
                                                                <div class="input-group-prepend">
                                                                    <span data-toggle="modal" data-target="#cashDetails" class="input-group-text pointer font-weight-bold">Details</span>
                                                                </div>
                                                            </div>
                                                            <div class="modal fade text-dark" id="cashDetails">
                                                                <div class="modal-dialog modal-dialog-centered">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <strong class="modal-title">Cash Details</strong>
                                                                            <button class="close" data-dismiss="modal">&times;</button>
                                                                        </div>
                                                                        <div class="modal-body p-3">
                                                                            <div class="w-75 mx-auto">
                                                                                <input class="form-control mb-2" autocomplete="off" placeholder="Customer Name" name="customer_name" required>
                                                                                <div class="w-100 text-center">
                                                                                    <button class="btn btn-success rounded-0" name="book">BOOK</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        <?php endif; ?>

                                                        <?php if ($p_method === '2'): ?>
                                                            <?php $stage = $_SESSION['c_stg']; ?>
                                                            <?php if($stage === 'type'): ?>
                                                                <div class="w-100 h-100 p-2 d-flex flex-wrap">
                                                                    <div onclick="location.href='config/process/bill_processing.php?c_type=VISA'" class="btn btn-light shadow d-flex flex-wrap align-content-center justify-content-center rounded-0 h-100 w-30 mr-2">
                                                                        <strong>VISA</strong>
                                                                    </div>
                                                                    <div onclick="location.href='config/process/bill_processing.php?c_type=MASTER CARD'" class="btn btn-light shadow d-flex flex-wrap align-content-center justify-content-center rounded-0 h-100 w-30 mr-2">
                                                                        <strong>Master</strong>
                                                                    </div>
                                                                </div>
                                                            <?php endif; ?>
                                                            <?php if($stage === 'number'): ?>
                                                                <div class="input-group h-100">
                                                                    <input onkeyup="cash_calculation(this.value, '<?php echo $bill_total ?>')" type="text" placeholder="Amount Received" class="h-100 form-control font-weight-bolder f_size_large rounded-0">
                                                                    <div class="input-group-prepend">
                                                                        <span data-toggle="modal" data-target="#cardDetails" class="input-group-text pointer font-weight-bold">Details</span>
                                                                    </div>
                                                                </div>
                                                                <div class="modal fade text-dark" id="cardDetails">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <strong class="modal-title">Card Details</strong>
                                                                        <button class="close" data-dismiss="modal">&times;</button>
                                                                    </div>
                                                                    <div class="modal-body p-3">
                                                                        <div class="w-75 mx-auto">
                                                                            <input class="form-control mb-2" autocomplete="off" placeholder="Customer Name" name="customer_name" required>
                                                                            <input class="form-control mb-2" autocomplete="off" placeholder="Card Number" name="card_number" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                            <?php endif; ?>
                                                        <?php endif; ?>

                                                        <?php if ($p_method === '3'): ?>

                                                            <!--MOMO PAYMENT-->
                                                            <?php $stage = $_SESSION['c_stg']; ?>
                                                            <?php if($stage === 'network'): ?>

                                                                <div class="w-100 h-100 p-2 d-flex flex-wrap">
                                                                    <div onclick="location.href='config/process/bill_processing.php?momo_carrier=Vodafone'" class="btn btn-danger shadow d-flex flex-wrap align-content-center justify-content-center rounded-0 h-100 w-30 mr-2">
                                                                        <strong>Vodafone</strong>
                                                                    </div>
                                                                    <div onclick="location.href='config/process/bill_processing.php?momo_carrier=MTN'" class="btn btn-warning shadow d-flex flex-wrap align-content-center justify-content-center rounded-0 h-100 w-30 mr-2">
                                                                        <strong>MTN</strong>
                                                                    </div>
                                                                </div>
                                                            <?php endif; ?>

                                                            <?php if($stage === 'payment_details'): ?>
                                                                <div class="input-group h-100">
                                                                    <input onkeyup="cash_calculation(this.value, '<?php echo $bill_total ?>')" type="text" placeholder="Amount Received" class="h-100 form-control font-weight-bolder f_size_large rounded-0">
                                                                    <div class="input-group-prepend">
                                                                        <span data-toggle="modal" data-target="#momoDetails" class="input-group-text pointer font-weight-bold">Details</span>
                                                                    </div>
                                                                </div>
                                                                <div class="modal fade text-dark" id="momoDetails">
                                                                    <div class="modal-dialog modal-dialog-centered">
                                                                        <div class="modal-content">
                                                                            <div class="modal-header">
                                                                                <strong class="modal-title">Momo Details</strong>
                                                                                <button class="close" data-dismiss="modal">&times;</button>
                                                                            </div>
                                                                            <div class="modal-body p-3">
                                                                                <div class="w-75 mx-auto">
                                                                                    <input class="form-control mb-2" autocomplete="off" placeholder="Customer Name" name="customer_name" required>
                                                                                    <input class="form-control mb-2" autocomplete="off" placeholder="Sender Name" name="sender_name" required>
                                                                                    <input class="form-control mb-2" autocomplete="off" placeholder="Sender Number" name="sender_number" required>
                                                                                    <input class="form-control mb-2" autocomplete="off" placeholder="Transaction ID" name="trans_id" required>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            <?php endif; ?>


                                                        <?php endif; ?>



                                                    </form>
                                                <?php endif; ?>

                                                <?php if (count($_SESSION['bill_item']) < 1): ?>
                                                    <div class="w-100 h-100 bg-info d-flex flex-wrap align-content-center p-2 font-weight-bold f_size_large">
                                                        No Bill
                                                    </div>
                                                <?php endif; ?>
                                            </div>
                                        </article>

                                    </div>

                                    <!--BILLING BUTTONS-->
                                    <div class="w-30 h-100 d-flex flex-wrap align-content-start justify-content-center">
                                        <?php if ($bill_exist === 'yes'): ?>
                                            <button onclick="location.href='config/process/bill_processing.php?sel_pmt=1'" class="btn p-0 bill-in-btn btn-in rounded-0 mb-2">
                                                CASH
                                            </button>
                                            <button  onclick="location.href='config/process/bill_processing.php?sel_pmt=2'" class="btn p-0 bill-in-btn btn-in rounded-0 mb-2">
                                                CARD
                                            </button>
                                            <button onclick="location.href='config/process/bill_processing.php?sel_pmt=3'"  class="btn p-0 bill-in-btn btn-in rounded-0 mb-2">
                                                MOMO
                                            </button>
                                            <button onclick="location.href='config/process/bill_processing.php?cancel_bill'" class="btn p-0 btn-danger btn-in rounded-0 mb-2">
                                                CANCEL
                                            </button>
                                            <button class="btn p-0 btn-warning btn-in rounded-0 mb-2">
                                                HOLD
                                            </button>
                                        <?php endif; ?>

                                        <?php if ($bill_exist === 'no'): ?>

                                            <!--RECALL BILL-->
                                            <button onclick="location.href='config/process/bill_processing.php?recall_bill'" class="btn p-0 btn-light btn-in rounded-0 mb-2">
                                                RECALL
                                            </button>

                                            <!--REFUND-->
                                            <button onclick="location.href='config/process/bill_processing.php?recall_bill'" class="btn p-0 btn-danger btn-in text-center rounded-0 mb-2">
                                                REFUND
                                            </button>

                                            <!--EXIST-->
                                            <button onclick="location.href='config/process/switch.php?tri=welcome'" class="btn p-0 btn-warning btn-in text-center rounded-0 mb-2">
                                                EXIT
                                            </button>

                                        <?php endif;?>
                                    </div>

                                </article>

                            </div>

                            <!--BOTTOM-->
                            <div class="w-100 h-40 p-2 d-flex flex-wrap bg-dark-x">

                                <!--NUMBERS-->
                                <div class="w-70 h-100 p-0">
                                    <div class="w-100 h-100 p-0">
                                        <div class="d-flex flex-wrap align-content-start justify-content-between h-100 w-100">
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">1</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">2</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">3</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">4</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">5</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">6</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">7</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">8</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">9</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw_light">*</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw">0</button>
                                            </div>
                                            <div class="w-30 mb-3">
                                                <button class="btn w-100 key_number_hw_light">Clear</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--VALUES-->
                                <div class="w-30 d-flex flex-wrap align-content-between justify-content-end h-100">
                                    <!--COST PRICE-->
                                    <div class="card w-85 overflow-hidden h-30 bg-black">
                                        <div class="h-40 bg-dark text-right d-flex flex-wrap align-content-center justify-content-center font-weight-bold w-100">
                                            <small class="m-0 f_size_small">Total Cost</small>
                                        </div>
                                        <div class="h-60 text-right d-flex flex-wrap align-content-center justify-content-center font-weight-bold w-100">

                                            <strong>
                                                <?php
                                                    if (isset($bill_total))
                                                    {
                                                        echo price_value($bill_total);
                                                    }
                                                    else
                                                    {
                                                        echo 0.00;
                                                    }
                                                ?>
                                            </strong>
                                        </div>
                                    </div>

                                    <!--PAID PRICE-->
                                    <div class="card w-85 overflow-hidden h-30 bg-black">
                                        <div class="h-40 bg-dark text-right d-flex flex-wrap align-content-center justify-content-center font-weight-bold w-100">
                                            <small class="m-0 f_size_small">Amount Paid</small>
                                        </div>
                                        <div class="h-60 text-right d-flex flex-wrap align-content-center justify-content-center font-weight-bold w-100">
                                            <strong id="paidAmount">0.00</strong>
                                        </div>
                                    </div>

                                    <!--BALANCE-->
                                    <div class="card w-85 overflow-hidden h-30 bg-black">
                                        <div class="h-40 bg-dark text-right d-flex flex-wrap align-content-center justify-content-center font-weight-bold w-100">
                                            <small class="m-0 f_size_small">Amount Balance</small>
                                        </div>
                                        <div class="h-60 text-right d-flex flex-wrap align-content-center justify-content-center font-weight-bold w-100">
                                            <strong id="balance">0.00</strong>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>

                        <?php endif; ?>


                    </div>

                </div>

            </div>
        <?php endif; ?>

    <?php endif; ?>

</body>

</html>
<!-- jQuery library -->
<script src="js/jquery.min.js"></script>

<!-- Popper JS -->
<script src="js/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="js/bootstrap.min.js"></script>

<script>

    $(document).on({
        "contextmenu": function(e) {
            console.log("ctx menu button:", e.which);

            // Stop the context menu
            e.preventDefault();
        },
        "mousedown": function(e) {
            console.log("normal mouse down:", e.which);
        },
        "mouseup": function(e) {
            console.log("normal mouse up:", e.which);
        }
    });

    //show details finction
    function show(modal)
    {
        $(modal).modal('show');
    }

    //cash calculations
    function cash_calculation(value,cost)
    {
        if (window.XMLHttpRequest) {
            xmlhttp = new XMLHttpRequest();
        }
        else {
            xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');
        }

        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                const res = xmlhttp.responseText;
                document.getElementById('paidAmount').innerHTML = res;



                balance(cost,res);

            }
        }

        xmlhttp.open('GET', '../config/process/ajax.php?calculate_cash&value='+value, true);
        xmlhttp.send();
    }

    //get balance
    function balance(cost,paid)
    {
        const b = cost - paid;
        document.getElementById('balance').innerHTML = b;
    }

</script>